<br />
<br />
<div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="2%">
    <button mat-raised-button color="primary" (click)="toggleFormDialog()">New Happy Hour</button>
    <button mat-raised-button color="primary" (click)="toggleMap()">Toggle Map</button>
</div>
<br />
<mat-divider></mat-divider>
<mat-divider></mat-divider>
<br />
<ng-container *ngIf="happyHours$ | async as happyHours">
    <div fxLayout="column">
        <div *ngIf="showMap" fxFlex="100">
            <agm-map [zoom]="15" [gestureHandling]="'cooperative'"  [scrollwheel]="null" [latitude]='latitude' [longitude]='longitude'>
                <agm-marker *ngFor="let happyhour of happyHours" [latitude]="happyhour.latitude"
                    [longitude]="happyhour.longitude" [opacity]="1" [markerDraggable]="false"
                    (markerClick)="selectMarker($event,happyhour.name)">
                </agm-marker>
            </agm-map>
        </div>
        <happy-hour-card [happyHours]="happyHours" (refreshContent)="refreshComponent()">

        </happy-hour-card>
    </div>
</ng-container>
<ng-template #loading>
    <mat-progress-bar [mode]="indeterminate">
    </mat-progress-bar>
</ng-template>